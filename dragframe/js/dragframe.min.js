$(function(){!function(i,t){"use strict";var n=function(t){this.conf={type:1,mainFrame:"#td-frame",frameL:".td-line",frame1:".td-left",frame2:".td-right",callback:null};for(i in t)this.conf[i]=t[i];this.drF=null,this.drF1=null,this.drF2=null,this.drL=null,this.mIng=!1,this.mDown=!1,this.zuoBiao=[0,0],this.init(t.mainFrame)};n.prototype={path:function(){var i=document.scripts,t=i[i.length-1],n=t.src;return n.substring(0,n.lastIndexOf("/")+1)}(),init:function(i){var t=this,n=t.drF=$(i);return t.drF1=n.children(t.conf.frame1),t.drF2=n.children(t.conf.frame2),t.drL=n.children(t.conf.frameL),t.initFrameSize(),t.bindMove(),t},initFrameSize:function(){var i=this;if(1==i.conf.type){var t=i.drF.width();i.drF1.width(t/2),i.drF2.width(t/2-i.drL.width()),i.drL.css({left:t/2+"px"})}else{var n=i.drF.height();i.drF1.height(n/2),i.drF2.height(n/2-i.drL.height()),i.drL.css({top:n/2+"px"})}},bindMove:function(){var i=this;i.drL.mousedown(function(t){i.mDown=!0,i.zuoBiao[0]=t.clientX,i.zuoBiao[1]=t.clientY,i.addShade()}),$(document).mouseup(function(t){i.mDown=!1,i.mIng=!1,$("#td_frame_bg").remove()})},addShade:function(){var i=this,t=i.conf;$("body").append('<div id="td_frame_bg" class="td_frame_bg"></div>');var n=$("#td_frame_bg");n.css({height:$(document).height()+"px",width:$(document).width()+"px"});var e=i.drF1,r=i.drL,d=i.drF2;n.mousemove(function(n){if("function"==typeof t.callback&&t.callback(n),1==t.type){var o=n.clientX-i.zuoBiao[0];if(i.zuoBiao[0]=n.clientX,i.mDown&&!i.mIng){i.mIng=!0;var a=o+e.width(),h=d.width()-o;if(0>=a||0>=h)return;o+e.width();e.width(a),d.width(h),r.css("left",a+"px"),i.mIng=!1}}else{var c=n.clientY-i.zuoBiao[1];if(i.zuoBiao[1]=n.clientY,i.mDown&&!i.mIng){i.mIng=!0;var f=e.height()+c,m=d.height()-c;if(0>=f||0>=m)return;e.height(f),d.height(m),r.css("top",f+"px"),i.mIng=!1}}})}},i.dragFrame=function(i){return new n(i)}}(window)});